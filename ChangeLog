2006-03-16  Zephaniah E. Hull,,,  <warp@aehallh.com>

	* src/evdev_brain.c: (MatchDriver):
	Switch from my own globbing function to fnmatch.

	* src/evdev_key.c: (EvdevKeyNew):
	Detect keys numbered higher then buttons.
	Remove the (depreciated since long before xkb support was added to
	evdev) XkbKeymap option.

2006-03-16  Zephaniah E. Hull  <warp@aehallh.com>

	* man/evdev.man:
	Update to include all the new device matching options.

2006-02-27  Zephaniah E. Hull  <warp@aehallh.com>

	* src/evdev_key.c: (EvdevKeyOff):
	Don't leave keys in the down state when we get turned off.
	(VT switching, getting unplugged, that sort of stuff.)

2006-02-27  Zephaniah E. Hull  <warp@aehallh.com>

	* src/evdev.c: (EvdevReadInput):
	Better error reporting if the read fails.

	* src/evdev_brain.c: (evdevNewDriver):
	Work properly if we're defining entirely by capability maps.

2006-02-24  Zephaniah E. Hull  <warp@aehallh.com>

	* src/Makefile.am:
	Compile with -Wall now.
	Add evdev.h to the sources so that make distcheck gets it.

	* src/evdev.h:
	Bugzilla #5943 <https://bugs.freedesktop.org/show_bug.cgi=5943>
	Make sure we include errno.h.

	Reduce EVDEV_MAXBUTTONS to 96.

	Split up evdevStateRec into a struct with pointers to new structs
	for btn, abs, rel, and key.

	New structure type for handling the device capability bitmaps.

	Add device bits and struct input_id to evdevDeviceRec.

	Add matching device bits, struct input_id, and pass number to
	evdevDriverRec.

	Prototype for evdevGetBits from evdev_brain.c.

	* src/evdev.c: (EvdevProc), (EvdevSwitchMode), (EvdevNew),
	(EvdevParseBits), (EvdevParseBitOption), (EvdevCorePreInit):
	Conversion for the evdevStateRec split.

	Remove the errno.h include, it's in evdev.h for now.

	Move the bit getting from the drivers to here, into evdevDeviceRec.

	Fix a rare case of fd leakage.

	Add several new (and somewhat ugly) device matching options:
	<map>Bits: Where map is one of ev, key, rel, abs, msc, led, snd, or
	ff.
	In the format of '+0 +3 -1-2 ~5-10', requires bits 0 and 3 be set,
	bits 1 and 2 to not be set, and at least one bit in the range of 5 to
	10 be set.
	bustype, vendor, product, and version: Simple integer options for
	matching the struct device_id fields, must be 0 (the default) or the
	exact value you wish to match against.
	pass: Bounded to 0-3, devices are matched to the first matching entry
	found, order for multiple matching entries in the same pass is
	undefined, but it starts with pass 0 and goes to pass 3.

	* src/evdev_abs.c: (EvdevAbsSyn), (EvdevAbsProcess),
	(EvdevAbsInit), (EvdevAbsNew):
	Adaptation for the evdevStateRec split and the change in capability
	bitmap handling.

	* src/evdev_brain.c: (MatchAll), (MatchNot), (MatchAny),
	(MatchDriver), (MatchDevice), (evdevScanDevice), (FillDevInfo),
	(evdevRescanDevices), (evdevGetBits):
	Add evdevGetBits to fill the new evdevBitsRec struct type.

	Lots of somewhat ugly code for matching by capability bits.

	Split out of evdevRescanDevices to smaller handling functions.
	The new design should be better if I decide to handle arbitrary Device
	fields again.

	* src/evdev_btn.c: (EvdevBtnInit), (EvdevBtnOn),
	(EvdevBtnCalcRemap), (EvdevBtnNew), (EvdevBtnProcess):
	Adaptation for the evdevStateRec split and the change in capability
	bitmap handling.

	Handle all buttons, no button compression at this time, however we
	reorder things so that BTN_MOUSE comes before BTN_MISC, somewhat
	evily.

	Support for the new btn->state[] array of int pointers.

	* src/evdev_key.c: (EvdevKeyInit), (SetXkbOption), (EvdevKeyNew):
	Adaptation for the evdevStateRec split and the change in capability
	bitmap handling.

	* src/evdev_rel.c: (EvdevRelSyn), (EvdevRelProcess),
	(EvdevRelInit), (EvdevRelNew):
	Adaptation for the evdevStateRec split and the change in capability
	bitmap handling.

2006-02-20  Zephaniah E. Hull  <warp@aehallh.com>

	* src/evdev_btn.c: (EvdevBtnInit):
	Bugzilla #5950 <https://bugs.freedesktop.org/show_bug.cgi=5950>
	Possible (maybe) fix for bug #5950.
	Though, I'm not convinced and still don't see how this bug could
	be happening, especially if this doesn't do it.

2006-02-19  Zephaniah E. Hull  <warp@aehallh.com>

	* src/evdev_key.c: (EvdevKbdBell):
	Add bell support.

2006-02-16  Zephaniah E. Hull  <warp@aehallh.com>

	* src/evdev_btn.c: (EvdevBtnCalcRemap):
	Bugzilla #5914 <https://bugs.freedesktop.org/show_bug.cgi?id=5914>
	Stupid little bug, properly handle wheels on 3 button mice.

2006-02-14  Zephaniah E. Hull  <warp@aehallh.com>

	* configure.ac:
	* man/evdev.man:
	* src/Makefile.am:
	* src/evdev.c: (EvdevReadInput), (EvdevSigioReadInput),
	(EvdevProc), (EvdevSwitchMode), (EvdevNew), (EvdevCorePreInit):
	* src/evdev.h:
	* src/evdev_abs.c: (EvdevPtrCtrlProc), (EvdevConvert),
	(EvdevAbsSyn), (EvdevAbsProcess), (EvdevAbsInit), (EvdevAbsOn),
	(EvdevAbsOff), (EvdevAbsNew):
	* src/evdev_brain.c: (glob_match), (evdevGetFDForDevice),
	(evdevRescanDevices), (evdevReadInput), (evdevControl),
	(evdevStart), (evdevNewDriver):
	* src/evdev_btn.c: (EvdevBtnPostFakeClicks), (EvdevBtnInit),
	(EvdevBtnOn), (EvdevBtnOff), (EvdevBtnCalcRemap), (EvdevBtnNew),
	(EvdevBtnProcess):
	* src/evdev_key.c: (EvdevKbdBell), (EvdevKbdCtrl), (EvdevKeyInit),
	(SetXkbOption), (EvdevKeyNew), (EvdevKeyOn), (EvdevKeyOff),
	(EvdevKeyProcess):
	* src/evdev_rel.c: (EvdevPtrCtrlProc), (EvdevConvert),
	(EvdevRelSyn), (EvdevRelProcess), (EvdevRelInit), (EvdevRelOn),
	(EvdevRelOff), (EvdevRelNew):
	Bugzilla #5696 <https://bugs.freedesktop.org/show_bug.cgi?id=5696>
	Slightly updated version of the patch listed.
	Basicly a rewrite of the driver, with a few pieces of the old.
	XKB support, proper device matching, basic absolute pointer support.
	Lots more, will require some user config changes.

2006-01-09  David Nusinow,,,  <set EMAIL_ADDRESS environment variable>

	* man/Makefile.am:
	* man/evdev.man:
	Bugzilla #968 <https://bugs.freedesktop.org/show_bug.cgi?id=968>
	Patch #4301 <https://bugs.freedesktop.org/attachment.cgi?id=4301>
	Add evdev manpage

2005-12-20  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update package version for X11R7 release.

2005-12-14  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update package version number for final X11R7 release candidate.

2005-12-06  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* man/Makefile.am:
	Change *man_SOURCES ==> *man_PRE to fix autotools warnings.

2005-12-03  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update package version number for X11R7 RC3 release.

2005-12-01  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Remove extraneous AC_MSG_RESULT.

2005-11-29  Adam Jackson  <ajax@freedesktop.org>

	* configure.ac:
	Only build dlloader modules by default.

2005-11-09  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update package version number for X11R7 RC2 release.

2005-11-01  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update pkgcheck dependencies to work with separate build roots.
